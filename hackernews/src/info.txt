В целом процесс монтирования имеет 4 метода жизненного цикла. Они вызываются в
следующем порядке:
• constructor()
• getDerivedStateFromProps()
• render()
• componentDidMount()


при изменении состояния или свойств?
• getDerivedStateFromProps()
• shouldComponentUpdate()
• componentWillUpdate()
• render()
• getSnapshotBeforeUpdate()
• componentDidUpdate()


жизненный цикл размонтирования. Для этого процесса
доступен только один метод —

    componentWillUnmount().

• constructor(props) — вызывается, когда компонент инициализируется. Вы можете установить начальное состояние компонента и связать методы класса в этом методе жизненного цикла.

• static getDerivedStateFromProps(props, state) — вызывается перед методом жизненного
цикла render() как при начальном монтировании, так и при последующих обновлениях. Этот метод должен возвратить объект для обновления состояния или null,
если ничего не нужно обновлять. Он существует для редких случаев использования,
когда состояние зависит от изменений в свойствах со временем. Важно знать, что это
статический метод, и поэтому у него нет доступа к экземпляру компонента.

• render() — требуется обязательно и возвращает элементы в качестве вывода компонента.
Метод должен быть чистым, т.е. не изменять состояние компонента. Он получает
входные данные в виде свойств и состояния и возвращает элемент.

• componentDidMount() — вызывается только один раз при монтировании компонента.
Это идеальный момент для выполнения асинхронных запросов на получение данных
из API. Полученные данные будут сохранены во внутреннем состоянии компонента для
его отображения в методе жизненного цикла render().

• shouldComponentUpdate(nextProps, nextState) — всегда вызывается, когда компонент
изменяется во время изменения состояния или свойств. Вы будете использовать его в
зрелых React-приложениях для оптимизации производительности. В зависимости от
возвращаемого из этого метода логического значения компонент и все его дочерние
элементы либо будут перерисовываться, либо нет. Этот метод может предотвратить
отрисовку компонента.

• getSnapshotBeforeUpdate(prevProps, prevState) — вызывается непосредственно перед
тем, как последний отрисованный вывод будет зафиксирован в DOM. В редких вариантах использования компонент должен захватить информацию из DOM прежде чем он
в принципе будет изменён. Этот метод жизненного цикла позволяет компоненту это
сделать. Другой метод (componentDidUpdate()) получит любое значение, возвращаемое
getSnapshotBeforeUpdate() в качестве параметра.

• componentDidUpdate(prevProps, prevState) — вызывается сразу после обновления, но
не при первоначальной отрисовке метода render(). Вы можете использовать его как
возможность выполнять операции с DOM или дальнейшие асинхронные запросы. Если
ваш компонент реализует метод getSnapshotBeforeUpdate(), возвращаемое им значение
будет приниматься в качестве параметра snapshot.

• componentWillUnmount() — вызывается до того, как компонент будет уничтожен
(удалён из DOM). Вы можете использовать этот метод для выполнения любых задач
очистки
